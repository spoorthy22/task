(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(243)},243:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(53),s=a.n(r),c=a(9),l=a(6),i=a(13),u=a(32),p=a(105),m=a.n(p),d=a(21),b=a(22),h=a(25),f=a(23),v=a(35),E=a(26),y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={},a.onSubmit=a.onSubmit.bind(Object(v.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,r=this.props,s=r.isLoginPending,c=r.isLoginSuccess,l=r.loginError;return o.a.createElement("form",{name:"loginForm",onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group-collection"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Email:"),o.a.createElement("input",{type:"email",name:"email",onChange:function(t){return e.setState({email:t.target.value})},value:a})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password:"),o.a.createElement("input",{type:"password",name:"password",onChange:function(t){return e.setState({password:t.target.value})},value:n}))),o.a.createElement("input",{type:"submit",value:"Login"}),o.a.createElement(i.b,{to:"/posts"}),o.a.createElement("div",{className:"message"},s&&o.a.createElement("div",null,"Please wait..."),c&&o.a.createElement("div",null,"Success."),l&&o.a.createElement("div",null,l.message)))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state;t.email,t.password;this.setState({email:"",password:""})}}]),t}(n.Component),g=Object(c.b)(function(e){return{isLoginPending:e.isLoginPending,isLoginSuccess:e.isLoginSuccess,loginError:e.loginError}})(y),j=a(246),O=a(54),P=a(107),k=a(36),w=a.n(k),S=a(28),N=a.n(S),C="fetch_posts",L="fetch_post",x="create_post",D="delete_post",F="https://reduxblog.herokuapp.com/api",_="?key=hu53yin";var T=Object(l.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return w.a.omit(e,t.payload);case L:return Object(P.a)({},e,Object(O.a)({},t.payload.data.id,t.payload.data));case C:return w.a.mapKeys(t.payload.data,"id");default:return e}},form:j.a}),J=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"renderPosts",value:function(){return w.a.map(this.props.posts,function(e){return o.a.createElement("li",{className:"list-group-item",key:e.id},o.a.createElement(i.b,{to:"/posts/".concat(e.id)},e.title))})}},{key:"render",value:function(){return console.log(this.props.posts),o.a.createElement("div",null,o.a.createElement("div",{className:"text-xs-right"},o.a.createElement(i.b,{className:"btn btn-primary",to:"/posts/new"},"Add a Post")),o.a.createElement("h3",null,"Posts"),o.a.createElement("ul",{className:"list-group"},this.renderPosts()))}}]),t}(n.Component);var M=Object(c.b)(function(e){return{posts:e.posts}},{fetchPosts:function(){var e=N.a.get("".concat(F,"/posts").concat(_));return{type:C,payload:e}}})(J),q=a(245),A=a(244),B=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"renderField",value:function(e){var t=e.meta,a=t.touched,n=t.error,r="form-group ".concat(a&&n?"has-danger":"");return o.a.createElement("div",{className:r},o.a.createElement("label",null,e.label),o.a.createElement("input",Object.assign({className:"form-control",type:"text"},e.input)),o.a.createElement("div",{className:"text-help"},a?n:""))}},{key:"onSubmit",value:function(e){var t=this;this.props.createPost(e,function(){t.props.history.push("/")})}},{key:"render",value:function(){var e=this.props.handleSubmit;return o.a.createElement("form",{onSubmit:e(this.onSubmit.bind(this))},o.a.createElement(q.a,{label:"Title For Post",name:"title",component:this.renderField}),o.a.createElement(q.a,{label:"Post Content",name:"content",component:this.renderField}),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),o.a.createElement(i.b,{to:"/",className:"btn btn-danger"},"Cancel"))}}]),t}(n.Component);var K=Object(A.a)({validate:function(e){var t={};return e.title||(t.title="Enter a title"),e.content||(t.content="Enter some content please"),t},form:"PostsNewForm"})(Object(c.b)(null,{createPost:function(e,t){var a=N.a.post("".concat(F,"/posts").concat(_),e).then(function(){return t()});return{type:x,payload:a}}})(B)),z=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchPost(e)}},{key:"onDeleteClick",value:function(){var e=this,t=this.props.match.params.id;this.props.deletePost(t,function(){e.props.history.push("/")})}},{key:"render",value:function(){var e=this.props.post;return e?o.a.createElement("div",null,o.a.createElement(i.b,{to:"/"},"Back To Posts"),o.a.createElement("button",{className:"btn btn-danger pull-xs-right",onClick:this.onDeleteClick.bind(this)},"Delete Post"),o.a.createElement("h3",null,"Title: ",e.title),o.a.createElement("p",null,"Content: ",e.content)):o.a.createElement("div",null,"Loading...")}}]),t}(n.Component);var G=Object(c.b)(function(e,t){return{post:e.posts[t.match.params.id]}},{fetchPost:function(e){var t=N.a.get("".concat(F,"/posts/").concat(e).concat(_));return{type:L,payload:t}},deletePost:function(e,t){return N.a.delete("".concat(F,"/posts/").concat(e).concat(_)).then(function(){return t()}),{type:D,payload:e}}})(z),H=Object(l.a)(m.a)(l.d);s.a.render(o.a.createElement(c.a,{store:H(T)},o.a.createElement(i.a,null,o.a.createElement("div",null,o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/login",component:g}),o.a.createElement(u.a,{path:"/posts/new",component:K}),o.a.createElement(u.a,{path:"/posts/:id",component:G}),o.a.createElement(u.a,{path:"/",component:M}))))),document.querySelector(".container"))}},[[110,1,2]]]);
//# sourceMappingURL=main.5525cad0.chunk.js.map